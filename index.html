<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Algorithms Activity</title>
<style>
/* ===== Happy Classroom ‚Äî One-Row Layout ===== */
*{box-sizing:border-box}
:root{
  --bg:#fff9fb; --card:#fff; --ink:#222; --muted:#6b7280;
  --violet:#8b5cf6; --pink:#f472b6; --green:#10b981; --amber:#f59e0b;
  --ring:0 10px 30px rgba(139,92,246,.15);
}
html,body{height:100%}
body{
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  margin:0; color:var(--ink);
  background:
    radial-gradient(1200px 400px at -10% -10%, #ffe4f0 0, transparent 50%),
    radial-gradient(900px 400px at 110% -10%, #e9e0ff 0, transparent 50%),
    var(--bg);
  overflow:hidden; /* no vertical scroll */
}
header{
  background:linear-gradient(90deg,#fef6ff,#fff7fb);
  border-bottom:1px solid #f1e8ff; padding:14px 20px;
}
h1{margin:0 0 4px;font-weight:900;letter-spacing:.2px;
  background:linear-gradient(90deg,var(--violet),var(--pink));
  -webkit-background-clip:text;background-clip:text;color:transparent}
header p{margin:0;color:var(--muted)}

.main{
  display:flex; gap:14px; padding:14px; height:calc(100vh - 74px);
  overflow-x:auto; overflow-y:hidden; scroll-snap-type:x mandatory;
}
.card{
  background:var(--card); border:1px solid #f1e8ff; border-radius:16px;
  padding:12px; box-shadow:var(--ring); min-width:380px; max-width:420px;
  height:100%; display:flex; flex-direction:column; gap:10px; scroll-snap-align:start;
}
h2{margin:2px 0 6px; font-weight:800}

.tabs{display:flex;gap:6px;flex-wrap:wrap}
.tab{border:1px solid #e7defc;background:#f5f1ff;border-radius:999px;padding:6px 10px;font-weight:800;cursor:pointer}
.tab.active{background:linear-gradient(180deg,#a78bfa,#8b5cf6);color:#fff;border-color:#8b5cf6}

.list{display:flex;flex-wrap:wrap;gap:8px;align-content:flex-start;overflow:auto}
.item{
  background:#f4f0ff; border:1px dashed #c9b8ff; border-radius:999px;
  padding:8px 10px; font-weight:700; cursor:pointer;
}
.item:hover{filter:brightness(.98)}

.drop{
  flex:1; min-height:0;
  border:2px dashed #e5d8ff; border-radius:16px; padding:10px;
  display:flex; flex-direction:column; gap:8px; justify-content:flex-end;
  background:linear-gradient(180deg,#fff,#fff7ff);
  overflow:auto;
}
.step{
  background:#fffdf5; border:1px solid #ffe4a3; border-radius:12px; padding:8px 10px;
  display:flex; align-items:center; gap:8px; font-weight:700;
}
.step .x{margin-inline-start:auto;border:0;background:#ffe4e6;border-radius:8px;padding:4px 8px;cursor:pointer}

.hint{color:#9aa0aa;text-align:center;margin:24px 0}

.row{display:flex;gap:8px;flex-wrap:wrap}
button{
  border:1px solid #e7defc;background:linear-gradient(180deg,#f5f1ff,#efe8ff);
  border-radius:12px;padding:8px 12px;font-weight:800;cursor:pointer
}
button.primary{background:linear-gradient(180deg,#a78bfa,#8b5cf6);color:#fff;border-color:#8b5cf6}
button.success{background:linear-gradient(180deg,#34d399,#10b981);color:#fff;border-color:#10b981}

textarea{
  width:100%; flex:1; min-height:0; height:150px;
  border:1px solid #e7defc; border-radius:12px; padding:10px; background:#fff; resize:vertical;
}

.small{font-size:12px;color:var(--muted)}
</style>
</head>
<body>
<header>
  <h1>Algorithms Activity ‚Äî Click to Add</h1>
  <p>Click steps to add them in order. Use the tabs to switch between Pasta, Morning Routine, and ATM.</p>
</header>

<section class="main" aria-label="one-row-canvas">
  <!-- 1) Library -->
  <section class="card" aria-label="step-library">
    <h2>Step Library</h2>
    <div class="tabs">
      <button class="tab active" data-set="pasta">üçù Loulwa‚Äôs Pasta</button>
      <button class="tab" data-set="morning">‚òÄÔ∏è Morning Routine</button>
      <button class="tab" data-set="atm">üèß ATM Steps</button>
    </div>
    <div id="library" class="list" style="flex:1; min-height:0"></div>
    <div class="row">
      <button id="reset">Reset</button>
    </div>
  </section>

  <!-- 2) Final order -->
  <section class="card" aria-label="final-order">
    <h2>Final Order <span class="small">(Arrange steps from start ‚Üí end)</span></h2>
    <div id="dropzone" class="drop">
      <p class="hint">Click steps in the library to add them here.</p>
    </div>
    <div class="row">
      <button id="clear">Clear</button>
      <button id="generate" class="primary">Generate Prompt</button>
    </div>
  </section>

  <!-- 3) Prompt -->
  <section class="card" aria-label="prompt-panel">
    <h2>Generated Prompt</h2>
    <textarea id="prompt" readonly></textarea>
    <div class="row">
      <button id="copy" class="success">Copy Prompt</button>
      <a id="toChatGPT" class="primary" style="text-decoration:none;display:inline-block" target="_blank"
         href="https://chat.openai.com/">
        Open in ChatGPT (Image)
      </a>
      <span class="small">Paste the prompt there to generate an image.</span>
    </div>
    <div id="result" class="small"></div>
  </section>
</section>

<script>
/* ---------- Data sets ---------- */
const DATA = {
  pasta: {
    title: "Loulwa‚Äôs Pasta Recipe",
    visual: "cooking pasta",
    steps: [
      "Turn on the stove üî•",
      "Boil water üíß",
      "Add pasta üçù",
      "Add tomato paste üçÖ",
      "Add spices üåø",
      "Add cheese üßÄ"
    ]
  },
  morning: {
    title: "Morning Routine",
    visual: "a simple morning routine",
    steps: [
      "Wake up ‚è∞",
      "Make the bed üõèÔ∏è",
      "Brush teeth ü™•",
      "Wash face üíß",
      "Have breakfast ü•£",
      "Go to school üéí"
    ]
  },
  atm: {
    title: "ATM Steps",
    visual: "using an ATM",
    steps: [
      "Insert card üí≥",
      "Choose language üåê",
      "Enter PIN üî¢",
      "Select withdrawal üíµ",
      "Enter amount ‚úçÔ∏è",
      "Take cash and card ‚úÖ"
    ]
  }
};

/* ---------- Elements ---------- */
const tabs = document.querySelectorAll('.tab');
const library = document.getElementById('library');
const dropzone = document.getElementById('dropzone');
const resetBtn = document.getElementById('reset');
const clearBtn = document.getElementById('clear');
const genBtn = document.getElementById('generate');
const promptBox = document.getElementById('prompt');
const copyBtn = document.getElementById('copy');
let currentSet = 'pasta';

/* ---------- Render Library ---------- */
function renderLibrary(){
  library.innerHTML = '';
  DATA[currentSet].steps.forEach(step => {
    const el = document.createElement('div');
    el.className = 'item';
    el.textContent = step;
    el.title = 'Click to add';
    el.addEventListener('click', ()=> addStep(step));
    library.appendChild(el);
  });
}
tabs.forEach(t=>{
  t.addEventListener('click', ()=>{
    tabs.forEach(x=>x.classList.remove('active'));
    t.classList.add('active');
    currentSet = t.dataset.set;
    renderLibrary();
  });
});
renderLibrary();

/* ---------- Dropzone behavior ---------- */
function addStep(text){
  dropzone.querySelector('.hint')?.remove();
  const el = document.createElement('div');
  el.className = 'step';
  el.innerHTML = `<span>${text}</span> <button class="x" title="remove">‚úñ</button>`;
  el.querySelector('.x').addEventListener('click', ()=> el.remove());
  dropzone.appendChild(el);
}
resetBtn.addEventListener('click', ()=>{ clearSteps(true); promptBox.value=''; });
clearBtn.addEventListener('click', ()=> clearSteps(false));

function clearSteps(addHint){
  document.querySelectorAll('.step').forEach(e=>e.remove());
  if(addHint && !dropzone.querySelector('.hint')){
    const p=document.createElement('p'); p.className='hint';
    p.textContent='Click steps in the library to add them here.'; dropzone.appendChild(p);
  }
}

/* ---------- Prompt (kept as before) ---------- */
function buildPrompt(){
  const items = [...dropzone.querySelectorAll('.step span')].map(s=>s.textContent);
  if(items.length===0) return '';
  const context = DATA[currentSet].visual;
  return `Create a clean, classroom-friendly storyboard/illustration of ${context}. Show the steps from bottom to top in this exact order: ${items.join(', ')}. Use simple icons, even spacing, soft lighting, and a neutral background. No hands, no extra decorations. High resolution.`;
}
genBtn.addEventListener('click', ()=>{
  const p = buildPrompt();
  promptBox.value = p || 'Add steps first, then press "Generate Prompt".';
  document.getElementById('result').textContent = p ? 'Prompt generated ‚úì' : '';
});
copyBtn.addEventListener('click', ()=>{
  promptBox.select(); document.execCommand('copy');
  copyBtn.textContent='Copied ‚úì'; setTimeout(()=>copyBtn.textContent='Copy Prompt',900);
});
</script>
</body>
</html>
